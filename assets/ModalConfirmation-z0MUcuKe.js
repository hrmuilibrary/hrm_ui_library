import{j as i}from"./jsx-runtime-BoRs7bpF.js";import{r as s}from"./iframe-DcP3ocjm.js";import{c as T}from"./index-IaqrroEN.js";import"./types-DeDHadih.js";import{I as k}from"./IconDismiss-BXVZllgV.js";import{T as E,P as B}from"./Tooltip-DXQclReM.js";import{B as f}from"./Button-MCqteBOR.js";import{T as g}from"./Text-BTL3aUEW.js";import{n as C}from"./helpers-r_FRjBGO.js";import{M as I}from"./index-DYDl_GcV.js";const c=[];function v(t){const n=c[c.length-1];if(!n)return;const{ref:e,callback:r,shouldRemoveCallback:l}=n;e&&!e.contains(t.target)&&(l&&c.splice(c.length-1,1),r(t))}const h=(t,n,e,r,l=!0)=>{s.useEffect(()=>{if(t&&e&&r)return c.push({ref:t,callback:n,uid:r,shouldRemoveCallback:l}),c.length===1&&document.addEventListener("mousedown",v),()=>{c.length===0&&document.removeEventListener("mousedown",v)}},[t,e,r]),s.useEffect(()=>{if(!e&&c.length>0){const a=c.findIndex(d=>d.uid===r);a>=0&&c.splice(a,1)}},[e])},_=t=>{const[n,e]=s.useState("initial"),[r,l]=s.useState(!1);return s.useEffect(()=>{t?(document.body.style.overflow="hidden",l(!0)):r&&(document.body.style.overflow=n)},[t]),s.useEffect(()=>{const a=document.body.style.overflow;return a&&e(a),()=>{document.body.style.overflow=n}},[]),null},w=(t,n,e=window)=>{const r=s.useRef(n);s.useEffect(()=>{r.current=n},[n,r]),s.useEffect(()=>{if(!(e&&e.addEventListener))return;const a=d=>r.current(d);return e.addEventListener(t,a),()=>{e.removeEventListener(t,a)}},[t,e,r])},R=()=>{const[t,n]=s.useState({width:window.innerWidth,height:window.innerHeight}),e=()=>{n({width:window.innerWidth,height:window.innerHeight})};return w("resize",e),w("orientationchange",e),t},$=(t=I)=>R().width<=t,q=({isOpen:t,enterDuration:n=400,exitDuration:e=200,onExitComplete:r})=>{const[l,a]=s.useState(t?"entered":"exited"),[d,o]=s.useState(t);return s.useEffect(()=>{if(t){o(!0),a("entering");const u=setTimeout(()=>{a("entered")},10);return()=>{clearTimeout(u)}}else{a("exiting");const u=setTimeout(()=>{a("exited"),o(!1),r==null||r()},e);return()=>{clearTimeout(u)}}},[t,e,r]),{animationState:l,shouldRender:d}},b=({title:t,subtitle:n,dataIdPrefix:e,closeIcon:r,onClose:l,children:a,withFooter:d=!0,confirmBtnTooltipText:o,buttonProps:u,onSubmit:m,titleSize:p="large"})=>i.jsxs(i.Fragment,{children:[t?i.jsxs("div",{className:"modal__header",children:[i.jsxs("div",{children:[i.jsx(g,{lineHeight:"large",size:p,weight:"bolder",dataId:e?`${e}-modal-title`:"",children:t}),n?i.jsx(g,{className:"mt-12",dataId:e?`${e}-modal-title`:"",children:n}):null]}),r?i.jsx(f,{className:"modal__close ml-16",dataId:e?`${e}-modal-close-button`:"",iconProps:{Component:k},onClick:l,type:"tertiary",size:p==="medium"?"small":"large"}):null]}):null,i.jsx("div",{className:"modal__content scrollbar scrollbar--vertical",children:a}),d&&u?i.jsxs("div",{className:"modal__footer",children:[u.cancel&&i.jsx(f,{type:"tertiary",className:"modal__footer__btn mr-16",onClick:l,dataId:e?`${e}-modal-cancel-button`:"",...u.cancel||{}}),o?i.jsx(E,{text:o,id:"confirm-btn-tooltip",position:B.TOP_CENTER}):null,i.jsx(f,{id:"confirm-btn-tooltip",className:"modal__footer__btn",type:"primary",onClick:m||C,dataId:e?`${e}-modal-confirm-button`:"",...u.confirm})]}):null]});b.__docgenInfo={description:"",methods:[],displayName:"ModalContent",props:{title:{required:!1,tsType:{name:"string"},description:""},subtitle:{required:!1,tsType:{name:"string"},description:""},dataIdPrefix:{required:!1,tsType:{name:"string"},description:""},closeIcon:{required:!1,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},withFooter:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},confirmBtnTooltipText:{required:!1,tsType:{name:"string"},description:""},buttonProps:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  cancel?: TButtonPropTypes
  confirm: TButtonPropTypes
}`,signature:{properties:[{key:"cancel",value:{name:"TButtonPropTypes",required:!1}},{key:"confirm",value:{name:"TButtonPropTypes",required:!0}}]}},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},titleSize:{required:!1,tsType:{name:"union",raw:"'medium' | 'large'",elements:[{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"}]},description:"",defaultValue:{value:"'large'",computed:!1}}}};function j(t,{enabled:n=!0}={}){s.useEffect(()=>{if(!n)return;const e=r=>{r.key==="Escape"&&t()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[t,n])}const z=({isOpen:t,onClose:n,className:e="",size:r="medium",closeOnOutsideClick:l=!0,isMobileFullScreen:a,...d})=>{const o=$(),{animationState:u,shouldRender:m}=q({isOpen:t,enterDuration:o?0:400,exitDuration:200}),[p,y]=s.useState(null);return h(p,n,l&&t,s.useId()),_(t),j(n,{enabled:t}),m?i.jsx("div",{className:T("modal",`modal--${r}`,`modal--${u}`,e),children:i.jsx("div",{className:T("modal__container",`modal__container--${u}`,{modal__container_fullScreen:o&&a,[`modal__container_fullScreen--${u}`]:o&&a}),ref:y,children:i.jsx(b,{...d,onClose:n})})}):null};z.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{dataIdPrefix:{required:!1,tsType:{name:"string"},description:""},closeOnOutsideClick:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},title:{required:!1,tsType:{name:"string"},description:""},subtitle:{required:!1,tsType:{name:"string"},description:""},size:{required:!1,tsType:{name:"union",raw:"'small' | 'medium' | 'large' | 'xlarge'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"},{name:"literal",value:"'xlarge'"}]},description:"",defaultValue:{value:"'medium'",computed:!1}},titleSize:{required:!1,tsType:{name:"union",raw:"'medium' | 'large'",elements:[{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"}]},description:""},withFooter:{required:!1,tsType:{name:"boolean"},description:""},buttonProps:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  cancel?: TButtonPropTypes
  confirm: TButtonPropTypes
}`,signature:{properties:[{key:"cancel",value:{name:"TButtonPropTypes",required:!1}},{key:"confirm",value:{name:"TButtonPropTypes",required:!0}}]}},description:""},closeIcon:{required:!1,tsType:{name:"boolean"},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},confirmBtnTooltipText:{required:!1,tsType:{name:"string"},description:""},isMobileFullScreen:{required:!1,tsType:{name:"boolean"},description:""}}};const M=({isOpen:t,onClose:n,onSubmit:e,title:r,className:l="",size:a="small",buttonProps:d,dataIdPrefix:o,closeOnOutsideClick:u=!0,iconProps:m,subtitle:p})=>{const{animationState:y,shouldRender:S}=q({isOpen:t,enterDuration:400,exitDuration:200}),[x,N]=s.useState(null);return h(x,n,u&&t,s.useId()),_(t),j(n,{enabled:t}),S?i.jsx("div",{className:T("modal modal--confirmation",`modal--${a}`,`modal--${y}`,l),children:i.jsx("div",{className:T("modal__container","text-center",`modal__container--${y}`),ref:N,children:i.jsxs("div",{className:"modal__content",children:[m!=null&&m.Component?i.jsx("div",{className:"modal__icon mb-32",children:i.jsx(m.Component,{size:"xlarge"})}):null,r?i.jsx(g,{weight:"bolder",lineHeight:"large",size:"large",dataId:o?`${o}-modal-title`:"",children:r}):null,p?i.jsx(g,{className:"mt-12",children:p}):null,d?i.jsxs("div",{className:"modal__footer mt-32",children:[i.jsx(f,{type:"secondary",className:"modal__footer__btn mr-16",onClick:n,dataId:o?`${o}-modal-cancel-button`:"",...d.cancel||{}}),i.jsx(f,{type:"danger",className:"modal__footer__btn",onClick:e,dataId:o?`${o}-modal-confirm-button`:"",...d.confirm})]}):null]})})}):null};M.__docgenInfo={description:"",methods:[],displayName:"ModalConfirmation",props:{dataIdPrefix:{required:!1,tsType:{name:"string"},description:""},closeOnOutsideClick:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},title:{required:!1,tsType:{name:"string"},description:""},subtitle:{required:!1,tsType:{name:"string"},description:""},size:{required:!1,tsType:{name:"union",raw:"'small' | 'large'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'large'"}]},description:"",defaultValue:{value:"'small'",computed:!1}},buttonProps:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  cancel?: TButtonPropTypes
  confirm: TButtonPropTypes
}`,signature:{properties:[{key:"cancel",value:{name:"TButtonPropTypes",required:!1}},{key:"confirm",value:{name:"TButtonPropTypes",required:!0}}]}},description:""},iconProps:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  Component: TSVGIconComponent
}`,signature:{properties:[{key:"Component",value:{name:"TSVGIconComponent",required:!0}}]}},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}}}};export{z as M,M as a,h as b,_ as c,$ as u};
