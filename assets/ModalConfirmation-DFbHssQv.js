import{j as t}from"./jsx-runtime-D8Aae-ON.js";import{r as l}from"./iframe-B81V5N6F.js";import{c as g}from"./index-CVLUGf02.js";import{A as w,m as T}from"./AnimatePresenceWrapper-Cu27zq0p.js";import"./types-BSP-PZIs.js";import{I as C}from"./IconDismiss-C_Gh5jDC.js";import{T as I,P as O}from"./Tooltip-C6M5Mvwj.js";import{B as f}from"./Button-BGtuaa-S.js";import{T as y}from"./Text-CFXTsjcN.js";import{n as S}from"./helpers-B_1klYl0.js";import{M as k}from"./index-DYDl_GcV.js";const c=[];function h(n){const i=c[c.length-1];if(!i)return;const{ref:e,callback:s,shouldRemoveCallback:a}=i;e&&!e.contains(n.target)&&(a&&c.splice(c.length-1,1),s(n))}const _=(n,i,e,s,a=!0)=>{l.useEffect(()=>{if(n&&e&&s)return c.push({ref:n,callback:i,uid:s,shouldRemoveCallback:a}),c.length===1&&document.addEventListener("mousedown",h),()=>{c.length===0&&document.removeEventListener("mousedown",h)}},[n,e,s]),l.useEffect(()=>{if(!e&&c.length>0){const o=c.findIndex(d=>d.uid===s);o>=0&&c.splice(o,1)}},[e])},q=n=>{const[i,e]=l.useState("initial"),[s,a]=l.useState(!1);return l.useEffect(()=>{n?(document.body.style.overflow="hidden",a(!0)):s&&(document.body.style.overflow=i)},[n]),l.useEffect(()=>{const o=document.body.style.overflow;return o&&e(o),()=>{document.body.style.overflow=i}},[]),null},b=(n,i,e=window)=>{const s=l.useRef(i);l.useEffect(()=>{s.current=i},[i,s]),l.useEffect(()=>{if(!(e&&e.addEventListener))return;const o=d=>s.current(d);return e.addEventListener(n,o),()=>{e.removeEventListener(n,o)}},[n,e,s])},E=()=>{const[n,i]=l.useState({width:window.innerWidth,height:window.innerHeight}),e=()=>{i({width:window.innerWidth,height:window.innerHeight})};return b("resize",e),b("orientationchange",e),n},B=(n=k)=>E().width<=n,x=({title:n,subtitle:i,dataIdPrefix:e,closeIcon:s,onClose:a,children:o,withFooter:d=!0,confirmBtnTooltipText:m,buttonProps:r,onSubmit:p,titleSize:u="large"})=>t.jsxs(t.Fragment,{children:[n?t.jsxs("div",{className:"modal__header",children:[t.jsxs("div",{children:[t.jsx(y,{lineHeight:"large",size:u,weight:"bolder",dataId:e?`${e}-modal-title`:"",children:n}),i?t.jsx(y,{className:"mt-12",dataId:e?`${e}-modal-title`:"",children:i}):null]}),s?t.jsx(f,{className:"modal__close ml-16",dataId:e?`${e}-modal-close-button`:"",iconProps:{Component:C},onClick:a,type:"tertiary",size:u==="medium"?"small":"large"}):null]}):null,t.jsx("div",{className:"modal__content scrollbar scrollbar--vertical",children:o}),d&&r?t.jsxs("div",{className:"modal__footer",children:[r.cancel&&t.jsx(f,{type:"tertiary",className:"modal__footer__btn mr-16",onClick:a,dataId:e?`${e}-modal-cancel-button`:"",...r.cancel||{}}),m?t.jsx(I,{text:m,id:"confirm-btn-tooltip",position:O.TOP_CENTER}):null,t.jsx(f,{id:"confirm-btn-tooltip",className:"modal__footer__btn",type:"primary",onClick:p||S,dataId:e?`${e}-modal-confirm-button`:"",...r.confirm})]}):null]});x.__docgenInfo={description:"",methods:[],displayName:"ModalContent",props:{title:{required:!1,tsType:{name:"string"},description:""},subtitle:{required:!1,tsType:{name:"string"},description:""},dataIdPrefix:{required:!1,tsType:{name:"string"},description:""},closeIcon:{required:!1,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},withFooter:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},confirmBtnTooltipText:{required:!1,tsType:{name:"string"},description:""},buttonProps:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  cancel?: TButtonPropTypes
  confirm: TButtonPropTypes
}`,signature:{properties:[{key:"cancel",value:{name:"TButtonPropTypes",required:!1}},{key:"confirm",value:{name:"TButtonPropTypes",required:!0}}]}},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},titleSize:{required:!1,tsType:{name:"union",raw:"'medium' | 'large'",elements:[{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"}]},description:"",defaultValue:{value:"'large'",computed:!1}}}};const M={initial:{opacity:.5,scale:.65},animate:{opacity:1,scale:[.95,1]},exit:{opacity:0,scale:.7,transition:{duration:.2}},transition:{duration:.4,type:"spring",damping:55,stiffness:700}},z=n=>({initial:{height:0,bottom:0},animate:{height:n?"100%":"auto",bottom:0},exit:{height:0,bottom:0},transition:{duration:.3}}),P=n=>{const{isOpen:i,onClose:e,className:s="",size:a="medium",closeOnOutsideClick:o=!0,isMobileFullScreen:d,...m}=n,r=B(),[p,u]=l.useState(null);return _(p,e,o&&i,l.useId()),q(i),t.jsx(w,{children:i?t.jsx(T.div,{className:g("modal",`modal--${a}`,s),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:r?0:.4},children:t.jsx(T.div,{className:g("modal__container",{modal__container_fullScreen:r&&d}),ref:u,...r?z(d):M,children:t.jsx(x,{...m,onClose:e})})}):null})};P.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{dataIdPrefix:{required:!1,tsType:{name:"string"},description:""},closeOnOutsideClick:{required:!1,tsType:{name:"boolean"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},title:{required:!1,tsType:{name:"string"},description:""},subtitle:{required:!1,tsType:{name:"string"},description:""},size:{required:!1,tsType:{name:"union",raw:"'small' | 'medium' | 'large' | 'xlarge'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"},{name:"literal",value:"'xlarge'"}]},description:""},titleSize:{required:!1,tsType:{name:"union",raw:"'medium' | 'large'",elements:[{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"}]},description:""},withFooter:{required:!1,tsType:{name:"boolean"},description:""},buttonProps:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  cancel?: TButtonPropTypes
  confirm: TButtonPropTypes
}`,signature:{properties:[{key:"cancel",value:{name:"TButtonPropTypes",required:!1}},{key:"confirm",value:{name:"TButtonPropTypes",required:!0}}]}},description:""},closeIcon:{required:!1,tsType:{name:"boolean"},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},confirmBtnTooltipText:{required:!1,tsType:{name:"string"},description:""},isMobileFullScreen:{required:!1,tsType:{name:"boolean"},description:""}}};const R={initial:{opacity:.5,scale:.65},animate:{opacity:1,scale:[.95,1]},exit:{opacity:0,scale:.7,transition:{duration:.2}},transition:{duration:.4,type:"spring",damping:55,stiffness:700}},$=n=>{const{isOpen:i,onClose:e,onSubmit:s,title:a,className:o="",size:d="small",buttonProps:m,dataIdPrefix:r,closeOnOutsideClick:p=!0,iconProps:u,subtitle:v}=n,[N,j]=l.useState(null);return _(N,e,p&&i,l.useId()),q(i),t.jsx(w,{children:i?t.jsx(T.div,{className:g("modal modal--confirmation",`modal--${d}`,o),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},children:t.jsx("div",{className:"modal__container text-center",ref:j,...R,children:t.jsxs("div",{className:"modal__content",children:[u!=null&&u.Component?t.jsx("div",{className:"modal__icon mb-32",children:t.jsx(u.Component,{size:"xlarge"})}):null,a?t.jsx(y,{weight:"bolder",lineHeight:"large",size:"large",dataId:r?`${r}-modal-title`:"",children:a}):null,v?t.jsx(y,{className:"mt-12",children:v}):null,m?t.jsxs("div",{className:"modal__footer mt-32",children:[t.jsx(f,{type:"secondary",className:"modal__footer__btn mr-16",onClick:e,dataId:r?`${r}-modal-cancel-button`:"",...m.cancel||{}}),t.jsx(f,{type:"danger",className:"modal__footer__btn",onClick:s,dataId:r?`${r}-modal-confirm-button`:"",...m.confirm})]}):null]})})}):null})};$.__docgenInfo={description:"",methods:[],displayName:"ModalConfirmation",props:{dataIdPrefix:{required:!1,tsType:{name:"string"},description:""},closeOnOutsideClick:{required:!1,tsType:{name:"boolean"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},title:{required:!1,tsType:{name:"string"},description:""},subtitle:{required:!1,tsType:{name:"string"},description:""},size:{required:!1,tsType:{name:"union",raw:"'small' | 'large'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'large'"}]},description:""},buttonProps:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  cancel?: TButtonPropTypes
  confirm: TButtonPropTypes
}`,signature:{properties:[{key:"cancel",value:{name:"TButtonPropTypes",required:!1}},{key:"confirm",value:{name:"TButtonPropTypes",required:!0}}]}},description:""},iconProps:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  Component: TSVGIconComponent
}`,signature:{properties:[{key:"Component",value:{name:"TSVGIconComponent",required:!0}}]}},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};export{P as M,$ as a,_ as b,q as c,B as u};
