import{j as M}from"./jsx-runtime-Bx6nDAHA.js";import{r as a}from"./iframe-Djkj-SoK.js";import{c as b}from"./index-Do9ZPFz0.js";import{T as y}from"./Text-BA3vWX_v.js";import{C,c as P}from"./index-DYDl_GcV.js";import"./types-DheOOxYx.js";const v=e=>e?{width:e.clientWidth,scrollHeight:e.scrollHeight,height:e.clientHeight}:{width:0,height:0,scrollHeight:0},w=e=>{if(!e||!e.getBoundingClientRect)return{left:0,top:0,bottom:0,right:0};const t=e.getBoundingClientRect();return{left:t.left,right:t.right,top:t.top,bottom:t.bottom}},p=20,H=20,G=e=>{const{initialPosition:t,elemRef:l,tooltipRef:h,hasTriangle:s=!0}=e,{left:o,top:T,bottom:c}=w(l),{width:r,height:u}=v(h),{width:f}=v(l),i=a.useMemo(()=>{const E=u+p<T,L=u+p<window.innerHeight-c,O=r+p<o,g=r+p<window.innerWidth-o,_=r+p<window.innerWidth-o-f;return!L&&!g&&t.includes("bottom-right")?t.replace("bottom-right","top-left"):!E&&t.includes("top")?t.replace("top","bottom"):!L&&t.includes("bottom")?t.replace("bottom","top"):!O&&t.includes("left")?t.replace("left","right"):!g&&t.includes("right")||!_&&t.includes("middle-right")?t.replace("right","left"):t},[u,r,c,t]),n=a.useMemo(()=>{const E=r<o+H+p,L=r+p<window.innerWidth-o;if(i.includes("middle"))return i;if(i.includes("right")&&!E)return i.replace("right","left");if(i.includes("left")&&!L)return i.replace("left","right");if(i.includes("center")){const O=r/2<o+H+p,g=r/2+p<window.innerWidth-o;return O?g?i:i.replace("center","right"):i.replace("center","left")}return i},[i,r,f,o]);return s?n:i};var d=(e=>(e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.MIDDLE_LEFT="middle-left",e.MIDDLE_RIGHT="middle-right",e.BOTTOM_CENTER="bottom-center",e.TOP_CENTER="top-center",e))(d||{});const m=8,W=({initialPosition:e,elemRef:t,tooltipRef:l,toolTipCurrentWidth:h})=>{const{top:s,left:o,right:T}=w(t),{width:c,height:r}=v(t),{height:u,width:f}=v(l),i=h||f,n=G({tooltipRef:l,elemRef:t,initialPosition:e});return{tooltipStyles:a.useMemo(()=>n===d.BOTTOM_LEFT?{top:s+(r+m),left:o}:n===d.TOP_LEFT?{top:s-(u+m),left:o}:n===d.BOTTOM_RIGHT?{top:s+(r+m),left:T-i-m}:n===d.TOP_RIGHT?{top:s-u-m,left:T-i-m}:n===d.BOTTOM_CENTER?{top:s+(r+m),left:o-(i-c)/2}:n===d.TOP_CENTER?{top:s-(u+m),left:o-(i-c)/2}:n===d.MIDDLE_LEFT?{top:s+r/2-u/2,left:o-i-m}:n===d.MIDDLE_RIGHT?{top:s+r/2-u/2,left:o+c+m}:{left:o,top:s},[s,o,c,r,n,i]),tooltipPosition:n}},N=(e,t)=>{const l=t??document;return a.useEffect(()=>(l.addEventListener("scroll",e),()=>{l.removeEventListener("scroll",e)}),[]),a.useEffect(()=>{l.addEventListener(C,h=>{h.detail===P&&e()})},[]),null},x=e=>{const t=a.useRef(null),{size:l="large",text:h,className:s="",position:o=d.BOTTOM_LEFT,dataId:T="",id:c,elemRef:r,hovered:u=!1}=e,[f,i]=a.useState(u),[n,E]=a.useState(r||null),[L,O]=a.useState(0);a.useEffect(()=>{if(c){const S=document.getElementById(c.toString());E(S)}},[c]);const g=()=>{i(!0)},_=()=>i(!1);N(_);const{tooltipStyles:R,tooltipPosition:I}=W({elemRef:n,tooltipRef:t.current,initialPosition:o,toolTipCurrentWidth:L});return a.useEffect(()=>(n&&(n.addEventListener("mouseenter",g),n.addEventListener("mouseleave",_)),()=>{n==null||n.removeEventListener("mouseenter",g),n==null||n.removeEventListener("mouseleave",_)}),[n]),a.useEffect(()=>{var S;O(f&&((S=t==null?void 0:t.current)==null?void 0:S.clientWidth)||0)},[f]),f?M.jsx("div",{style:R,"data-id":T,className:b(`tooltip tooltip--${l} tooltip--${I}`,s),ref:t,children:M.jsx(y,{dataId:`${T}-text`,className:"tooltip__inner",type:"primary",weight:"regular",lineHeight:"small",size:`${l=="small"?"xsmall":"small"}`,children:h})}):null};x.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{text:{required:!0,tsType:{name:"union",raw:"string | ReactElement",elements:[{name:"string"},{name:"ReactElement"}]},description:""},position:{required:!1,tsType:{name:"Positions"},description:""},size:{required:!1,tsType:{name:"union",raw:"'large' | 'small'",elements:[{name:"literal",value:"'large'"},{name:"literal",value:"'small'"}]},description:""},className:{required:!1,tsType:{name:"string"},description:""},elemRef:{required:!1,tsType:{name:"union",raw:"HTMLElement | null",elements:[{name:"HTMLElement"},{name:"null"}]},description:""},id:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},hovered:{required:!1,tsType:{name:"boolean"},description:""}},composes:["IFormCompProps"]};export{d as P,x as T,N as a,w as b,v as c,G as d,W as u};
